@{
    Layout = "_Layout";
}

@addTagHelper *, Microsoft.AspNetCore.Mvc.TagHelpers

@model IEnumerable<Common.Models.User>

<h2>User search</h2>

<form asp-action="UsersSearch" asp-controller="Hosting" method="get">
    <label>Enter nickname</label><br />
    <input type="search" name="login" /><br />
    <input type="submit" value="Search" />
</form>

@{
    if (Model != null)
    {
        <table class="table">
            <tr>
                <td>Id</td>
                <td>Nickname</td>
                <td>Role</td>
                <td>Link</td>
            </tr>
            @{
                foreach (var user in Model)
                {
                    <tr>
                        <td>@user.Id</td>
                        <td>@user.Login</td>
                        <td>@user.RoleName</td>
                        <td>@Html.ActionLink("Userpage", "UserPage", "Hosting", new { userId = user.Id })</td>
                    </tr>
                }
            }
        </table>
    }
}